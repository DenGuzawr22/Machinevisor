<html>

<head>
  <title>Express</title>
  <link rel="stylesheet" href="/stylesheets/style.css">
</head>

<body>
  <h1>Express</h1>
  <p>Welcome to Express</p>
  <script src="socket.io/socket.io.js"></script>
  <script>
    let socket = io("https://localhost:8080", { transports: ["websocket"]});
    socket.on('pingpong', (msg) => {
      console.log("receive:", msg )
      let element = document.createElement('div');
      element.innerText = msg;
      document.body.appendChild(element);
      socket.emit("pingpong", "pong")

    })

    socket.on("connect", () => {
        console.log("Connected"); 
    });

    socket.on("disconnect", () => {
        console.log("Disconnected"); // undefined
    });

    socket.on("error", (error) => {
          console.error(error);
    });

    // setTimeout(()=>{
    //   socket.removeAllListeners("pingpong");
    //   console.log("listener removed")
    // } , 10000)

    // socket.on("machine_")
  </script>
</body>

</html>
